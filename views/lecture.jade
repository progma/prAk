extends layout

block body
  .row
    .span12
      h1 Nazev lekce

  .row
    .span6
      #video(style="width:100%; height: 315px;")
      #footnotediv

    .span6
      .row
        .span6
          #editor
      .row
        .span6
          a.btn.btn-primary.btn-large.pull-right Submit
          a.btn.btn-large.pull-right#test Test

  .row
    .span6
      #paper

block scripts
  script(src="javascripts/ace.js")
  script
    var editor = ace.edit("editor");

  script(src="javascripts/popcorn-complete.min.js")
  script
    // ensure the web page (DOM) has loaded
    document.addEventListener("DOMContentLoaded", function () {

      // Create a popcorn instance by calling the Youtube player plugin
      var pop = Popcorn.youtube(
        '#video',
        'www.youtube.com/watch?v=bLF6sAAMb4s' );

      pop.code({
        start: 5,
        end: 10,
        onStart: function (options) {
          editor.setValue("Ahoj");
        },
        onEnd: function (options) {

        }
      });

      // add a footnote at 2 seconds, and remove it at 6 seconds
      pop.footnote({
        start: 2,
        end: 6,
        text: "Pop!",
        target: "footnotediv"
      });

      // play the video right away
      pop.play();
    }, false);

  script(src="javascripts/raphael-min.js")
  script
    var paper = Raphael('paper', 300, 200);
    var circle = paper.circle(50, 40, 10);
    circle.attr("fill", "#f00");
    circle.attr("stroke", "#fff");

  script
    $('#test').click(function () {
      var code = editor.getValue();
      eval(code);
    });
